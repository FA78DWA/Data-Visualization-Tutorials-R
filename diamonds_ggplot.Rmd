---
title: "Practice the ggplot2 Library"
output:
  md_document:
    variant: markdown_github
---
# 1- load the library, and the diamonds dataset
## Note that ggplot works in layers, meaning that we can plot the data and put different ## layers on top of the plot. This is done by using the (+) sign
```{r}
library(ggplot2)
data("diamonds")
head(diamonds)
```

# 2- Scatter Plot
## Simple scatter plot between the "carat" and the "price"
```{r}
ggplot(diamonds, aes(x=carat, y=price)) + geom_point() + ggtitle("Scatter plot") + xlab("carat (weight)") 
```

## Add additional feature in the plot by using color, for example add "clarity"
```{r}
ggplot(diamonds, aes(x=carat, y=price, color=clarity)) + geom_point() + ggtitle("Scatter plot") + xlab("carat (weight)") 
```

## What about the "cut", can we add it too...Yes by the point shape
```{r}
ggplot(diamonds, aes(x=carat, y=price, color=clarity, shape=cut)) + geom_point() + ggtitle("Scatter plot") + xlab("carat (weight)") 
```

## Or the point size, but as we can see, its not a good idea for this dense data 
```{r}
ggplot(diamonds, aes(x=carat, y=price, color=clarity, size=cut)) + geom_point() + ggtitle("Scatter plot") + xlab("carat (weight)") 
```

## We can add a smooth curve (additional layer) to show the general trend of the data. Don't forget, we do this by the (+) sign.
```{r}
# the gray area around the curve is the confidence interval. 
#To turn it off we can turn off the standard error option in geo_smooth(next figure).
ggplot(diamonds, aes(x=carat, y=price)) + geom_point() + geom_smooth() 
```

```{r}
# Remove the confidence area around the curve
ggplot(diamonds, aes(x=carat, y=price)) + geom_point() + geom_smooth(se=FALSE) 
```

## We also can add the best fit line for that data, by changing the method that geom_smooth is using.
```{r}
ggplot(diamonds, aes(x=carat, y=price)) + geom_point() + geom_smooth(se=FALSE, method="lm") 
```

## We can get a smooth curve that represnts the data with respect to a specific feature rather than a one curve for all the data. For example see the data curves wrt clarity. To do that, add "color = clarity" in the "aes()"
```{r}
ggplot(diamonds, aes(x=carat, y=price, color=clarity)) + geom_point() + geom_smooth(se=FALSE)
```

## We can only show the curves layer without the scattered points, by simply removing the "geom_point()" layer. 
```{r}
ggplot(diamonds, aes(x=carat, y=price, color=clarity)) + geom_smooth(se=FALSE)
```

## We can do the same using lines ....
```{r}
ggplot(diamonds, aes(x=carat, y=price, color=clarity)) + geom_point() + geom_smooth(se=FALSE, method = "lm")
```

```{r}
ggplot(diamonds, aes(x=carat, y=price, color=clarity)) + geom_smooth(se=FALSE, method = "lm")
```

